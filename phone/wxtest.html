<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">

<head>
  <meta http-equiv="Content-Type" content="text/html;charset=UTF-8" />
  <title></title>
  <script src="https://res.wx.qq.com/open/js/jweixin-1.4.0.js"></script>
</head>

<body>
  <div id='outer'>
    <button onclick="getpos()">weixin position</button> <br>
    <button onclick="getLocation()">html position</button> <br>
    <input onpaste="javascript:alert('')" />3<br>
    <img src="gis.png" width="200px" height="100px" onclick="preview()"><br>
    <img src="gis.png" width="200px" height="100px" onclick="previewRelative(event)">
    <img src="/copc/dist/static/img/1108101904.54e2fcd.png" width="200px" height="100px" onclick="previewRelative(event)">
    <img src="https://www.baidu.com/img/bd_logo1.png" width="200px" height="100px" onclick="previewRelative(event)">
    <img src="https://ecpews.fsm.gov.mo:8001/home/aomenftp//hedgeImg/5c89f00de535485f841aa5d5.jpg" width="200px" height="100px" onclick="previewRelative(event)">
    <img src="https://ecpews.fsm.gov.mo:8001/home/aomenftp/hedgeImg/5c89f00de535485f841aa5d5.jpg" width="200px" height="100px" onclick="previewRelative(event)">
    <img src="https://ecpwx.fsm.gov.mo/wxt/api/refugee/image/5c89f00de535485f841aa5d5.jpg" width="200px" height="100px" onclick="previewRelative(event)">
    <img src="https://specialname8.github.io/copc/phone/gis.png" width="200px" height="100px" onclick="previewRelative(event)">
    <script type="text/javascript">
      function preview() {
        wx.previewImage({
          current: 'https://specialname8.github.io/copc/phone/gis.png', // 当前显示图片的http链接
          urls: ['https://specialname8.github.io/copc/phone/gis.png'] // 需要预览的图片http链接列表
        });
      }
      function previewRelative(e) {
				let src=e.srcElement.src;
				wx.previewImage({
					current: src, // 当前显示图片的http链接
					urls: [src] // 需要预览的图片http链接列表
					});
      }

      function getpos() {
        wx.getLocation({
          type: 'wgs84', // 默认为wgs84的gps坐标，如果要返回直接给openLocation用的火星坐标，可传入'gcj02'
          success: function (res) {
            alert(res);
            var latitude = res.latitude; // 纬度，浮点数，范围为90 ~ -90
            var longitude = res.longitude; // 经度，浮点数，范围为180 ~ -180。
            var speed = res.speed; // 速度，以米/每秒计
            var accuracy = res.accuracy; // 位置精度
          },
          fail: function (res) {
            alert(res);
          }
        });
      }

      function getLocation() {
        if (navigator.geolocation) {
          navigator.geolocation.getCurrentPosition(showPosition);
        } else {
          x.innerHTML = "Geolocation is not supported by this browser.";
        }
      }

      function showPosition(position) {
        alert(position);
      }
    </script>
  </div>
</body>

</html>