webpackJsonp([7],{"6Tut":function(e,t,n){"use strict";(function(e){var a=n("RVvQ"),i=n("VjJn"),o=n("rs68");t.a={components:{Scroller:a.a,Spinner:i.a,info:o.default},data:function(){return{listData:[],warningArr:[],pullupEnabled:!0,heightObj:{height:"calc(100% - .9rem)"},title:{name:"safeguarding",flag:!1,backUrl:"/focus?jump=false",hiddenGoBack:!0},status:{pullupStatus:"default",pulldownStatus:"default"},pullupConfig:{content:"",downContent:"",upContent:"",loadingContent:""},defaultImg:"this.src='"+n("kMVd")+"'",warnid:"",isAndroid:!1,currpage:1,showDetail:!1,infoId:"",isMove:!0}},computed:{classOption:function(){return{step:.5,limitMoveNum:1,openTouch:!1}}},created:function(){this.refresh(),this.isAndroid=this.$isAndroid()},mounted:function(){window.setI18nValue=this.$setI18nValue},methods:{seamlessClick:function(){this.isMove?this.$refs.seamless.enter():this.$refs.seamless.leave(),this.isMove=!this.isMove},changeImg:function(e){},SubCon:function(e){console.log("===>"+e);var t=this.warningArr[e].warnid;this.infoId=t,console.log("openinfo===>"+t),this.showDetail=!0},closeInfo:function(){this.showDetail=!1},errorChange:function(e){console.log(e)},playM:function(e){console.log("===>"+e);var t=this.warningArr[e];if(console.log(t),t.flag)this.warningArr[e].flag=!1,this.showBottomToast(this.$t("stopplay")),this.isAndroid?window.android.stopSpeakVoice():(console.log("ios init!"),window.location.href="stopSpeakText");else{this.warningArr[e].flag=!0;t.warnid;console.log(t),this.showBottomToast(this.$t("getcontent"));var n,a;if(n=t.warncontent,a=t.voiceurl,this.isAndroid)console.log("param==>"+a),a&&window.android.speakVoiceUrl(a);else{var i=encodeURI(n);window.location.href="speakText:"+this.$i18n.locale+"@@@"+i,console.log("ios init!")}}return!1},loadMore:function(){var e=this,t=this;setTimeout(function(){t.currpage++,t.refresh("1"),setTimeout(function(){e.$refs.scroller.donePullup()},10)},10)},refreshload:function(){this.refresh()},refresh:function(t){var n=this.$myConfig.ip+":"+this.$myConfig.port+"phone/getMessages",a=this;void 0==t&&(a.currpage=1),a.$vux.loading.show({text:a.$t("loading")});var i=a.$i18n.locale;""!=i&&(i=i.split("-")[0]);var o={key:this.$myConfig.key,messageType:"ALL",language:i,pageindex:a.currpage,pagesize:"10"},s="POST",l=window.g.test_getMessages;l&&(n=l,s="GET"),e.ajax({type:s,url:n,data:o,dataType:"json",async:!0,success:function(e){if(a.$vux.loading.hide(),a.$refs.scroller.donePulldown(),""==e.message)return a.showBottomToast(a.$t("nohasdata")),a.$vux.loading.hide(),!1;var n=e.message;if(n.length>0){if("string"==typeof n)n=JSON.parse(e.message);else for(var i=0;i<n.length;i++)n[i]=JSON.parse(n[i]);if(void 0==t)a.warningArr=n;else for(e=n,i=0;i<e.length;i++)a.warningArr.push(e[i])}else void 0==t&&(a.warningArr=[]),a.showBottomToast(a.$t("nohasdata"));a.$nextTick(function(){setTimeout(function(){},10)})},error:function(e){console.log("請求失敗"),a.$vux.loading.hide()}})},getMarqueeData:function(){var t=this.$myConfig.ip+":"+this.$myConfig.port+"phone/getInformationWheel?",n=this;n.$vux.loading.show({text:n.$t("loading")});var a=n.$i18n.locale;""!=a&&(a=a.split("-")[0]),e.ajax({type:"GET",url:t,data:{key:this.$myConfig.key,language:a},dataType:"json",async:!0,success:function(e){if(n.$vux.loading.hide(),""==e.message)return n.showBottomToast(n.$t("nohasdata")),!1;var t=JSON.parse(e.message);t.length>0?(n.listData=[],n.listData=t,n.heightObj={height:"calc(100% - .9rem - 100px)"},n.$refs.seamless.leave(),n.isMove=!0):(n.listData=[],n.heightObj={height:"calc(100% - .9rem)"})},error:function(e){console.log("請求失敗"),n.$vux.loading.hide()}})},changePullupStatus:function(e){e?(this.$refs.scroller.enablePullup(),this.pullupEnabled=!0):(this.$refs.scroller.disablePullup(),this.pullupEnabled=!1)},showBottomToast:function(e){this.$showBottomToast(e,"bottom")},jumpPhoneDial:function(){try{this.$jumpQuery()}catch(e){console.log(e),this.$router.push("/query/query")}}}}}).call(t,n("0iPh"))},"6YRN":function(e,t,n){"use strict";(function(e){var t=n("RVvQ"),a=n("VjJn"),i=n("rs68");t.a,a.a,i.default}).call(t,n("0iPh"))},"7beI":function(e,t,n){var a=n("pb7c");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);n("FIqI")("2200aecc",a,!0,{})},nkqY:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n("6YRN");var a=n("6Tut"),i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"all_height"},[a("div",{directives:[{name:"show",rawName:"v-show",value:!e.showDetail,expression:"!showDetail"}],staticClass:"all_height"},[e.showDetail?e._e():a("my-title",{attrs:{title:e.title}}),e._v(" "),e._e(),e._v(" "),a("div",{style:e.heightObj},[a("scroller",{ref:"scroller",attrs:{"lock-x":"","scrollbar-y":"","use-pulldown":"","use-pullup":"",height:"100%","pullup-config":e.pullupConfig,"pulldown-config":{content:e.$t("refresh"),downContent:e.$t("downrefresh"),upContent:e.$t("refresh"),loadingContent:e.$t("refreshload")}},on:{"on-pullup-loading":e.loadMore,"on-pulldown-loading":e.refreshload},model:{value:e.status,callback:function(t){e.status=t},expression:"status"}},[a("ul",{staticClass:"mui-table-view",staticStyle:{"z-index":"10"}},e._l(e.warningArr,function(t,n){return a("li",{key:n,staticClass:"mui-table-view-cell mui-media"},[a("a",{attrs:{href:"javascript:;"}},[a("img",{staticClass:"mui-media-object mui-pull-left",attrs:{src:"./static/img/"+t.imgpath+".png",onerror:e.defaultImg}}),e._v(" "),a("div",{staticClass:"mui-media-body"},[a("div",{staticClass:"warn_content",on:{click:function(t){return e.SubCon(n)}}},[a("span",[e._v(e._s(t.warnname))]),e._v(" "),a("p",{staticClass:"mui-ellipsis"},[e._v(e._s(t.warntime))])])])])])}),0)]),e._v(" "),a("div",{staticClass:"xs-plugin-pullup-container xs-plugin-pullup-up loading-show",attrs:{slot:"pullup"},slot:"pullup"},[a("span",{directives:[{name:"show",rawName:"v-show",value:"default"===e.status.pullupStatus,expression:"status.pullupStatus === 'default'"}]}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:"loading"===e.status.pullupStatus,expression:"status.pullupStatus === 'loading'"}]},[a("spinner",{attrs:{type:"ios-small"}})],1)])],1)],1),e._v(" "),e.showDetail?a("div",{staticClass:"all_height"},[a("info",{attrs:{infoId:e.infoId},on:{closeInfo:e.closeInfo}})],1):e._e(),e._v(" "),a("div",{staticStyle:{position:"absolute",bottom:".1rem",right:".2rem","z-index":"1"},on:{click:function(t){return e.jumpPhoneDial()}}},[a("img",{staticStyle:{width:"40px",height:"40px"},attrs:{src:n("4+As"),alt:""}})])])},staticRenderFns:[]};var o=function(e){n("7beI")},s=n("C7Lr")(a.a,i,!1,o,"data-v-5e6eaf7a",null);t.default=s.exports},pb7c:function(e,t,n){(e.exports=n("UTlt")(!0)).push([e.i,"\n.seamless-warp[data-v-5e6eaf7a] {\n  height: 100px;\n  overflow: hidden;\n}\n.box2-wrap[data-v-5e6eaf7a] {\n  height: 300px;\n  overflow: hidden;\n}\n.rotate[data-v-5e6eaf7a] {\n  display: inline-block;\n  -webkit-transform: rotate(-180deg);\n          transform: rotate(-180deg);\n}\n.pullup-arrow[data-v-5e6eaf7a] {\n  -webkit-transition: all linear 0.2s;\n  transition: all linear 0.2s;\n  color: #666;\n  font-size: 25px;\n}\n.warn_content[data-v-5e6eaf7a] {\n  width: 99%;\n  height: 100%;\n  float: left;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n}\n.warn_handle[data-v-5e6eaf7a] {\n  width: 10%;\n  height: 100%;\n  float: left;\n}\n.mui-table-view .mui-media[data-v-5e6eaf7a],\n.mui-table-view .mui-media-body[data-v-5e6eaf7a] {\n  overflow: hidden;\n  font-size: 0.26rem;\n}\n","",{version:3,sources:["D:/macau_public/src/components/warning/warning.vue"],names:[],mappings:";AACA;EACE,cAAc;EACd,iBAAiB;CAClB;AACD;EACE,cAAc;EACd,iBAAiB;CAClB;AACD;EACE,sBAAsB;EACtB,mCAAmC;UAC3B,2BAA2B;CACpC;AACD;EACE,oCAAoC;EACpC,4BAA4B;EAC5B,YAAY;EACZ,gBAAgB;CACjB;AACD;EACE,WAAW;EACX,aAAa;EACb,YAAY;EACZ,iBAAiB;EACjB,oBAAoB;EACpB,wBAAwB;CACzB;AACD;EACE,WAAW;EACX,aAAa;EACb,YAAY;CACb;AACD;;EAEE,iBAAiB;EACjB,mBAAmB;CACpB",file:"warning.vue",sourcesContent:["\n.seamless-warp[data-v-5e6eaf7a] {\n  height: 100px;\n  overflow: hidden;\n}\n.box2-wrap[data-v-5e6eaf7a] {\n  height: 300px;\n  overflow: hidden;\n}\n.rotate[data-v-5e6eaf7a] {\n  display: inline-block;\n  -webkit-transform: rotate(-180deg);\n          transform: rotate(-180deg);\n}\n.pullup-arrow[data-v-5e6eaf7a] {\n  -webkit-transition: all linear 0.2s;\n  transition: all linear 0.2s;\n  color: #666;\n  font-size: 25px;\n}\n.warn_content[data-v-5e6eaf7a] {\n  width: 99%;\n  height: 100%;\n  float: left;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n}\n.warn_handle[data-v-5e6eaf7a] {\n  width: 10%;\n  height: 100%;\n  float: left;\n}\n.mui-table-view .mui-media[data-v-5e6eaf7a],\n.mui-table-view .mui-media-body[data-v-5e6eaf7a] {\n  overflow: hidden;\n  font-size: 0.26rem;\n}\n"],sourceRoot:""}])}});
//# sourceMappingURL=7.1f4fbd41ebeb5cb3450d.js.map